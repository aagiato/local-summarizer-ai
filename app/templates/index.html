<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document Summarizer</title>
</head>
<body>
  <h1>Upload a Document for Summarization</h1>

  <form method="POST" enctype="multipart/form-data">
    <label>Choose a .pdf or .txt file:</label>
    <input type="file" name="file" required><br><br>

    <label for="temperature">Temperature (creativity level):</label>
    <input type="range" min="0" max="1" step="0.1" name="temperature" id="temperature" value="0.3">
    <span id="temp-display">0.3</span><br><br>

    <label for="model">Model:</label>
    <select name="model" id="model">
      <option value="llama3">LLaMA 3 (default - best for summarization)</option>
      <option value="mistral">Mistral (faster, less detailed)</option>
      <option value="qwen">Qwen (creative and flexible)</option>
      <option value="deepseek">Deepseek 8B (technical, great for dense docs)</option>
    </select><br><br>

    <label for="export">Export Format:</label>
    <select name="export" id="export">
      <option value="both">Both TXT and PDF</option>
      <option value="txt">TXT only</option>
      <option value="pdf">PDF only</option>
    </select><br><br>

    <button type="submit">Summarize</button>
  </form>

  {% if done %}
    <h2>Summary Complete</h2>
    <p>Download your summaries:</p>
    <ul>
      {% if txt_link %}
        <li><a href="{{ txt_link }}">Download TXT</a></li>
      {% endif %}
      {% if pdf_link %}
        <li><a href="{{ pdf_link }}">Download PDF</a></li>
      {% endif %}
    </ul>
  {% endif %}

  <script>
    const tempSlider = document.getElementById('temperature');
    const tempDisplay = document.getElementById('temp-display');
    tempSlider.addEventListener('input', () => {
      tempDisplay.textContent = tempSlider.value;
    });
  </script>
</body>
</html>
